<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Private Letter</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #ff9a9e, #fecfef, #fecfef, #ff9a9e);
            color: #444;
            height: 100vh;
            overflow: hidden;
            position: relative;
        }
        
        .disable-interactions {
            pointer-events: none !important;
            user-select: none !important;
        }
        
        .disable-interactions * {
            pointer-events: none !important;
            user-select: none !important;
        }
        
        .particles {
            position: absolute;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 1;
        }
        
        .particle {
            position: absolute;
            width: 3px;
            height: 3px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            animation: float 20s infinite linear;
            box-shadow: 0 0 6px rgba(255, 182, 193, 0.6);
        }
        
        @keyframes float {
            0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(-100vh) rotate(360deg); opacity: 0; }
        }
        
        .lockbox-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10;
            background: inherit;
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        
        .lockbox {
            background: rgba(255, 255, 255, 0.95);
            border: 2px solid #ff69b4;
            border-radius: 25px;
            padding: 50px;
            text-align: center;
            box-shadow: 0 25px 50px rgba(255, 105, 180, 0.3), inset 0 0 30px rgba(255, 182, 193, 0.2);
            backdrop-filter: blur(15px);
            transform: scale(1);
            transition: transform 0.3s ease;
        }
        
        .lockbox:hover {
            transform: scale(1.02);
        }
        
        .lock-icon {
            font-size: 4em;
            color: #ff69b4;
            margin-bottom: 25px;
            animation: pulse 2s infinite;
            text-shadow: 0 0 20px rgba(255, 105, 180, 0.5);
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        .lockbox h1 {
            color: #d63384;
            margin-bottom: 15px;
            font-size: 2.2em;
            letter-spacing: 3px;
            font-family: 'Brush Script MT', cursive;
            text-shadow: 2px 2px 4px rgba(255, 105, 180, 0.3);
        }
        
        .lockbox p {
            margin-bottom: 35px;
            color: #666;
            font-style: italic;
            font-size: 1.1em;
        }
        
        .code-input {
            background: rgba(255, 255, 255, 0.9);
            border: 3px solid #ffb6c1;
            border-radius: 15px;
            padding: 18px;
            font-size: 1.8em;
            text-align: center;
            color: #d63384;
            width: 220px;
            margin-bottom: 25px;
            letter-spacing: 10px;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
            font-weight: bold;
        }
        
        .code-input:focus {
            outline: none;
            border-color: #ff69b4;
            box-shadow: 0 0 20px rgba(255, 105, 180, 0.5);
        }
        
        .unlock-btn {
            background: linear-gradient(45deg, #ff69b4, #ffb6c1, #ff69b4);
            border: none;
            border-radius: 15px;
            padding: 15px 40px;
            font-size: 1.2em;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 2px;
            box-shadow: 0 5px 15px rgba(255, 105, 180, 0.4);
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }
        
        .unlock-btn:hover {
            background: linear-gradient(45deg, #ffb6c1, #ff69b4, #ffb6c1);
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(255, 105, 180, 0.6);
        }
        
        .error-message {
            color: #dc3545;
            margin-top: 20px;
            font-size: 1em;
            opacity: 0;
            transition: opacity 0.3s ease;
            font-weight: 500;
        }
        
        .error-message.show {
            opacity: 1;
        }
        
        .typing-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 5;
            opacity: 0;
            pointer-events: none;
            background: inherit;
        }
        
        .typing-text {
            font-size: 2.2em;
            color: #555;
            font-family: 'Georgia', serif;
            position: relative;
            max-width: 80%;
            text-align: center;
            line-height: 1.4;
        }
        
        .cursor {
            display: inline-block;
            background: #555;
            width: 3px;
            height: 1em;
            margin-left: 2px;
            animation: blink 1s infinite;
        }
        
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }
        
        .notes-app {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            opacity: 0;
            pointer-events: none;
            z-index: 3;
            transition: opacity 1s ease-in-out;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }
        
        .notes-header {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(20px);
            padding: 20px 30px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.02);
            position: sticky;
            top: 0;
            z-index: 100;
            min-height: 80px;
        }
        
        .notes-back {
            color: #6366f1;
            font-size: 16px;
            cursor: pointer;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            border-radius: 8px;
            transition: all 0.2s ease;
            width: 150px;
        }
        
        .notes-back:hover {
            background: rgba(99, 102, 241, 0.1);
            transform: translateX(-2px);
        }
        
        .notes-title {
            color: #1f2937;
            font-size: 20px;
            font-weight: 600;
            letter-spacing: -0.5px;
            text-align: center;
            flex: 1;
        }
        
        .notes-actions {
            display: flex;
            gap: 12px;
            width: 150px;
            justify-content: flex-end;
        }
        
        .notes-action {
            color: #6b7280;
            font-size: 18px;
            cursor: pointer;
            padding: 8px;
            border-radius: 6px;
            transition: all 0.2s ease;
        }
        
        .notes-action:hover {
            color: #374151;
            background: rgba(0, 0, 0, 0.05);
        }
        
        .notes-empty-state {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: calc(100vh - 100px);
            text-align: center;
            padding: 40px;
        }
        
        .notes-empty-icon {
            width: 120px;
            height: 120px;
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            border-radius: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 50px;
            margin-bottom: 24px;
            box-shadow: 0 20px 40px rgba(245, 158, 11, 0.3);
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .notes-empty-title {
            color: #1f2937;
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 12px;
            letter-spacing: -0.5px;
        }
        
        .notes-empty-subtitle {
            color: #6b7280;
            font-size: 16px;
            margin-bottom: 32px;
            max-width: 400px;
            line-height: 1.5;
        }
        
        .notes-create-btn {
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            border: none;
            border-radius: 16px;
            padding: 16px 32px;
            color: white;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s ease;
            box-shadow: 0 10px 25px rgba(99, 102, 241, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .notes-create-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 35px rgba(99, 102, 241, 0.4);
        }
        
        .notes-create-btn:active {
            transform: translateY(0px);
        }
        
        .notes-create-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }
        
        .notes-create-btn:hover::before {
            left: 100%;
        }
        
        .animated-cursor {
            position: absolute;
            width: 24px;
            height: 24px;
            background: rgba(99, 102, 241, 0.9);
            border: 2px solid rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            opacity: 0;
            transition: all 0.3s ease;
            pointer-events: none;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.4);
        }
        
        .animated-cursor::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }
        
        .note-editor {
            display: none;
            padding: 40px;
            height: calc(100vh - 100px);
            overflow-y: auto;
        }
        
        .note-meta {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.08);
        }
        
        .note-date {
            color: #6b7280;
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 8px;
        }
        
        .note-title-display {
            color: #1f2937;
            font-size: 28px;
            font-weight: 700;
            letter-spacing: -0.8px;
        }
        
        .note-content {
            max-width: 700px;
            margin: 0 auto;
        }
        
        .note-text {
            background: transparent;
            border: none;
            outline: none;
            width: 100%;
            color: #374151;
            font-size: 18px;
            line-height: 1.7;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            font-weight: 400;
            resize: none;
            min-height: 500px;
            pointer-events: auto;
            user-select: text;
            cursor: text;
        }
        
        .typing-cursor {
            display: inline-block;
            background: #6366f1;
            width: 2px;
            height: 24px;
            animation: blink 1s infinite;
            margin-left: 2px;
            border-radius: 1px;
        }
        
        .instagram-dm {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000000;
            opacity: 0;
            pointer-events: none;
            z-index: 2;
            transition: opacity 1s ease-in-out;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        .ig-header {
            background: #000000;
            color: #ffffff;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 0.5px solid #262626;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .ig-back {
            color: #ffffff;
            font-size: 24px;
            cursor: pointer;
        }
        
        .ig-back:hover {
            opacity: 0.7;
        }
        
        .ig-user-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .ig-profile-pic {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: linear-gradient(45deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 14px;
        }
        
        .ig-username {
            color: #ffffff;
            font-weight: 600;
            font-size: 16px;
        }
        
        .ig-active-status {
            color: #8e8e8e;
            font-size: 12px;
            margin-top: 2px;
        }
        
        .ig-actions {
            display: flex;
            gap: 20px;
        }
        
        .ig-action {
            color: #ffffff;
            font-size: 20px;
            cursor: pointer;
        }
        
        .ig-action:hover {
            opacity: 0.7;
        }
        
        .letter-button {
            background: none;
            border: none;
            color: #ffffff;
            font-size: 14px;
            cursor: pointer;
            padding: 8px 12px;
            border-radius: 6px;
            border: 1px solid #333;
        }
        
        .letter-button:hover {
            background: #333;
        }
        
        .ig-chat-container {
            height: calc(100vh - 130px);
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 8px;
            background: #000000;
        }
        
        .ig-message {
            display: flex;
            margin-bottom: 8px;
            opacity: 1;
            transform: translateY(0);
        }
        
        .ig-message.sent {
            justify-content: flex-end;
        }
        
        .ig-message.received {
            justify-content: flex-start;
        }
        
        .ig-message-bubble {
            max-width: 75%;
            padding: 12px 16px;
            border-radius: 22px;
            position: relative;
            word-wrap: break-word;
            font-size: 14px;
            line-height: 1.4;
            margin: 2px 0;
        }
        
        .ig-message.sent .ig-message-bubble {
            background: #3797f0;
            color: white;
        }
        
        .ig-message.received .ig-message-bubble {
            background: #262626;
            color: #ffffff;
        }
        
        .ig-input-area {
            position: sticky;
            bottom: 0;
            background: #000000;
            padding: 15px 20px;
            border-top: 0.5px solid #262626;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .ig-message-input {
            flex: 1;
            padding: 12px 16px;
            border: 1px solid #262626;
            border-radius: 22px;
            outline: none;
            font-size: 14px;
            background: #262626;
            color: #ffffff;
        }
        
        .ig-message-input::placeholder {
            color: #8e8e8e;
        }
        
        .ig-send-button {
            color: #3797f0;
            font-weight: 600;
            cursor: pointer;
            font-size: 14px;
        }
        
        .ig-send-button.disabled {
            color: #385185;
            cursor: not-allowed;
        }
        
        .fade-out {
            opacity: 0 !important;
            transform: scale(0.95) !important;
            pointer-events: none !important;
        }
        
        .fade-in {
            opacity: 1 !important;
            pointer-events: auto !important;
        }
        
        .hide-cursors .cursor,
        .hide-cursors .typing-cursor {
            display: none !important;
        }
    </style>
</head>
<body>
    <div class="particles" id="particles"></div>
    
    <div class="lockbox-container" id="lockboxContainer">
        <div class="lockbox">
            <div class="lock-icon">💖</div>
            <h1>Private Letter</h1>
            <p>Enter the code to unlock</p>
            <input type="password" class="code-input" id="codeInput" placeholder="••••" maxlength="4">
            <br>
            <button class="unlock-btn" onclick="checkCode()">Unlock</button>
            <div class="error-message" id="errorMessage">Incorrect code. Please try again.</div>
        </div>
    </div>
    
    <div class="typing-container" id="typingContainer">
        <div class="typing-text">
            <span id="typedText"></span><span class="cursor"></span>
        </div>
    </div>
    
    <div class="notes-app" id="notesApp">
        <div class="animated-cursor" id="animatedCursor"></div>
        
        <div class="notes-header">
            <div class="notes-back" onclick="goBackToInstagram()" id="notesBackBtn" style="visibility: hidden;">
                ← Back to Chat
            </div>
            <div class="notes-title">My Notes</div>
            <div class="notes-actions">
                <div class="notes-action">⚙️</div>
                <div class="notes-action">⋯</div>
            </div>
        </div>
        
        <div class="notes-empty-state" id="notesEmptyState">
            <div class="notes-empty-icon">📝</div>
            <div class="notes-empty-title">No Notes Yet</div>
            <div class="notes-empty-subtitle">
                Your thoughts and ideas will appear here. Start by creating your first note.
            </div>
            <button class="notes-create-btn" id="createNoteBtn">
                <span>✨</span>
                Create New Note
            </button>
        </div>
        
        <div class="note-editor" id="noteEditor">
            <div class="note-meta">
                <div class="note-date" id="noteDate"></div>
                <div class="note-title-display">Letter to Phuong</div>
            </div>
            <div class="note-content">
                <textarea class="note-text" id="noteText" placeholder=""></textarea>
                <span class="typing-cursor" id="typingCursor" style="display: none;"></span>
            </div>
        </div>
    </div>

    <div class="instagram-dm" id="instagramDM">
        <div class="ig-header">
            <div class="ig-back">←</div>
            <div class="ig-user-info">
                <div class="ig-profile-pic">Y</div>
                <div>
                    <div class="ig-username">your_username</div>
                    <div class="ig-active-status">Active now</div>
                </div>
            </div>
            <div class="ig-actions">
                <button class="letter-button" onclick="goBackToLetter()">📝 Letter</button>
                <div class="ig-action">📞</div>
                <div class="ig-action">📹</div>
            </div>
        </div>
        <div class="ig-chat-container" id="igChatContainer">
        </div>
        <div class="ig-input-area">
            <input type="text" class="ig-message-input" id="igMessageInput" placeholder="Message...">
            <div class="ig-send-button disabled" id="igSendButton">Send</div>
        </div>
    </div>

    <script>
        let isAutomating = false;
        let currentTypeInterval = null;
        
        function disableInteractions() {
            isAutomating = true;
            document.body.classList.add('disable-interactions', 'hide-cursors');
        }
        
        function enableInteractions() {
            isAutomating = false;
            document.body.classList.remove('disable-interactions', 'hide-cursors');
        }
        
        function createParticles() {
            const particles = document.getElementById('particles');
            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 20 + 's';
                particle.style.animationDuration = (Math.random() * 10 + 15) + 's';
                particles.appendChild(particle);
            }
        }
        
        function checkCode() {
            if (isAutomating) return;
            
            const input = document.getElementById('codeInput');
            const error = document.getElementById('errorMessage');
            const code = input.value.trim();
            
            if (code === '1234') {
                unlockSequence();
            } else {
                error.classList.add('show');
                input.value = '';
                input.style.borderColor = '#e74c3c';
                setTimeout(() => {
                    error.classList.remove('show');
                    input.style.borderColor = '#ffb6c1';
                }, 2000);
            }
        }
        
        function clearTyping() {
            if (currentTypeInterval) {
                clearInterval(currentTypeInterval);
                currentTypeInterval = null;
            }
        }
        
        function unlockSequence() {
            disableInteractions();
            const lockbox = document.getElementById('lockboxContainer');
            const typing = document.getElementById('typingContainer');
            
            lockbox.classList.add('fade-out');
            
            setTimeout(() => {
                lockbox.style.display = 'none';
                typing.classList.add('fade-in');
                startTypingSequence();
            }, 800);
        }
        
        function startTypingSequence() {
            const messages = [
                "Hello Phuong, I hope you enjoyed my gifts and your birthday.",
                "I am not sure when you are gonna see this, if ever.",
                "This was supposed to be the last of my gifts, but to tell you the truth this might be a bit selfish of me as this is more for me than it is for you.",
                "This may take a bit so please stay hydrated, sit back and relax as I write out some of my thoughts",
                "Enjoy..."
            ];
            
            let messageIndex = 0;
            
            function typeNextMessage() {
                if (messageIndex >= messages.length) {
                    setTimeout(() => {
                        transitionToNotesApp();
                    }, 2000);
                    return;
                }
                
                const text = messages[messageIndex];
                const typedElement = document.getElementById('typedText');
                let i = 0;
                
                typedElement.textContent = '';
                
                currentTypeInterval = setInterval(() => {
                    if (i < text.length) {
                        typedElement.textContent += text[i];
                        i++;
                    } else {
                        clearInterval(currentTypeInterval);
                        currentTypeInterval = null;
                        
                        if (messageIndex < messages.length - 1) {
                            setTimeout(() => {
                                eraseText(typedElement, () => {
                                    messageIndex++;
                                    setTimeout(() => {
                                        typeNextMessage();
                                    }, 500);
                                });
                            }, 2500);
                        } else {
                            setTimeout(() => {
                                eraseText(typedElement, () => {
                                    messageIndex++;
                                    typeNextMessage();
                                });
                            }, 3000);
                        }
                    }
                }, 10);
            }
            
            typeNextMessage();
        }
        
        function eraseText(element, callback) {
            const text = element.textContent;
            let i = text.length;
            
            const eraseInterval = setInterval(() => {
                if (i > 0) {
                    element.textContent = text.substring(0, i - 1);
                    i--;
                } else {
                    clearInterval(eraseInterval);
                    if (callback) callback();
                }
            }, 10);
        }
        
        function transitionToNotesApp() {
            const typing = document.getElementById('typingContainer');
            const notes = document.getElementById('notesApp');
            
            typing.classList.remove('fade-in');
            typing.classList.add('fade-out');
            
            setTimeout(() => {
                typing.style.display = 'none';
                notes.style.display = 'block';
                notes.classList.add('fade-in');
                setupNotesApp();
            }, 1000);
        }
        
        function setupNotesApp() {
            const emptyState = document.getElementById('notesEmptyState');
            const createBtn = document.getElementById('createNoteBtn');
            const animatedCursor = document.getElementById('animatedCursor');
            
            setTimeout(() => {
                showAnimatedCursor(createBtn, animatedCursor);
            }, 1000);
        }
        
        function showAnimatedCursor(targetBtn, cursor) {
            const btnRect = targetBtn.getBoundingClientRect();
            const startX = window.innerWidth / 2 - 100;
            const startY = window.innerHeight / 2 - 100;
            const endX = btnRect.left + btnRect.width / 2 - 12;
            const endY = btnRect.top + btnRect.height / 2 - 12;
            
            cursor.style.left = startX + 'px';
            cursor.style.top = startY + 'px';
            cursor.style.opacity = '1';
            
            setTimeout(() => {
                cursor.style.left = endX + 'px';
                cursor.style.top = endY + 'px';
                cursor.style.transition = 'all 1.5s cubic-bezier(0.4, 0, 0.2, 1)';
                
                setTimeout(() => {
                    targetBtn.style.transform = 'translateY(-2px)';
                    targetBtn.style.boxShadow = '0 15px 35px rgba(99, 102, 241, 0.4)';
                    
                    setTimeout(() => {
                        targetBtn.style.transform = 'translateY(0px)';
                        cursor.style.opacity = '0';
                        
                        setTimeout(() => {
                            openNoteEditor();
                        }, 300);
                    }, 800);
                }, 1200);
            }, 200);
        }
        
        function openNoteEditor() {
            const emptyState = document.getElementById('notesEmptyState');
            const noteEditor = document.getElementById('noteEditor');
            const noteDate = document.getElementById('noteDate');
            const noteText = document.getElementById('noteText');
            const cursor = document.getElementById('typingCursor');
            
            emptyState.style.display = 'none';
            noteEditor.style.display = 'block';
            
            const now = new Date();
            const dateStr = now.toLocaleDateString('en-US', { 
                weekday: 'long',
                year: 'numeric', 
                month: 'long', 
                day: 'numeric'
            }) + ' • ' + now.toLocaleTimeString('en-US', {
                hour: 'numeric',
                minute: '2-digit',
                hour12: true
            });
            noteDate.textContent = dateStr;
            
            setTimeout(() => {
                startTypingLetter();
            }, 800);
        }
        
        function startTypingLetter() {
            const noteText = document.getElementById('noteText');
            const cursor = document.getElementById('typingCursor');
            
            const letterContent = `Dear Phuong,

I hope this finds you well and that you had an amazing birthday. I've been sitting here trying to find the right words to express everything I've been feeling, and honestly, I'm not sure I'll ever find them all.

[YOUR FULL LETTER CONTENT WILL BE PASTED HERE]

This is where you'll paste your complete letter to Phuong. The text will appear as if you're typing it out, but it won't be editable - just a beautiful display of your words.

You can replace this placeholder text with your actual letter content. The typing effect will make it feel personal and intimate, as if you're writing it in real-time.

With all my love,
[Your name]`;
            
            let i = 0;
            cursor.style.display = 'inline-block';
            
            currentTypeInterval = setInterval(() => {
                if (i < letterContent.length) {
                    noteText.value += letterContent[i];
                    i++;
                    noteText.scrollTop = noteText.scrollHeight;
                } else {
                    clearInterval(currentTypeInterval);
                    currentTypeInterval = null;
                    cursor.style.display = 'none';
                    
                    setTimeout(() => {
                        showTransitionToInstagram();
                    }, 3000);
                }
            }, 25);
        }
        
        function showTransitionToInstagram() {
            setTimeout(() => {
                transitionToInstagram();
            }, 1000);
        }
        
        function transitionToInstagram() {
            clearTyping();
            const notes = document.getElementById('notesApp');
            const instagram = document.getElementById('instagramDM');

            instagram.style.display = 'block';
            instagram.style.zIndex = '4';
            notes.style.zIndex = '3';

            setTimeout(() => {
                notes.style.opacity = '0';
                instagram.style.opacity = '1';
                instagram.style.pointerEvents = 'auto';
                setupInstagramDM();
            }, 50);

            setTimeout(() => {
                notes.style.display = 'none';
            }, 1050);
        }
        
        function setupInstagramDM() {
            const chatContainer = document.getElementById('igChatContainer');
            const messageInput = document.getElementById('igMessageInput');
            const sendButton = document.getElementById('igSendButton');
            
            const messages = [
                "Hey, I just finished writing you something...",
                "I hoped you got a chance to read my letter 💕",
                "I wanted to give you a space to share your thoughts if you want to",
                "No pressure at all, but I'd love to hear what you're thinking ✨"
            ];
            
            let messageIndex = 0;
            
            function addNextMessage() {
                if (messageIndex >= messages.length) {
                    setupInputFunctionality();
                    return;
                }
                
                const messageDiv = document.createElement('div');
                messageDiv.className = 'ig-message received';
                messageDiv.innerHTML = `
                    <div class="ig-message-bubble">
                        ${messages[messageIndex]}
                    </div>
                `;
                
                chatContainer.appendChild(messageDiv);
                chatContainer.scrollTop = chatContainer.scrollHeight;
                
                messageIndex++;
                
                setTimeout(() => {
                    addNextMessage();
                }, 1200);
            }
            
            setTimeout(() => {
                addNextMessage();
            }, 800);
            
            function setupInputFunctionality() {
                function updateSendButton() {
                    const text = messageInput.value.trim();
                    if (text) {
                        sendButton.classList.remove('disabled');
                        sendButton.style.color = '#3797f0';
                    } else {
                        sendButton.classList.add('disabled');
                        sendButton.style.color = '#385185';
                    }
                }
                
                function sendMessage() {
                    const text = messageInput.value.trim();
                    if (!text) return;
                    
                    const messageDiv = document.createElement('div');
                    messageDiv.className = 'ig-message sent';
                    messageDiv.innerHTML = `
                        <div class="ig-message-bubble">
                            ${text}
                        </div>
                    `;
                    
                    chatContainer.appendChild(messageDiv);
                    chatContainer.scrollTop = chatContainer.scrollHeight;
                    
                    messageInput.value = '';
                    updateSendButton();
                }
                
                messageInput.addEventListener('input', updateSendButton);
                messageInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        sendMessage();
                    }
                });
                
                sendButton.addEventListener('click', (e) => {
                    e.preventDefault();
                    sendMessage();
                });
                
                setTimeout(() => {
                    messageInput.focus();
                    updateSendButton();
                    enableNavigation();
                    enableInteractions();
                }, 500);
            }
        }
        
        function enableNavigation() {
            const notesBackBtn = document.getElementById('notesBackBtn');
            notesBackBtn.style.visibility = 'visible';
        }
        
        function goBackToLetter() {
            if (isAutomating) return;

            clearTyping();
            const instagram = document.getElementById('instagramDM');
            const notes = document.getElementById('notesApp');

            notes.style.display = 'block';
            notes.style.zIndex = '4';
            instagram.style.zIndex = '3';

            setTimeout(() => {
                instagram.style.opacity = '0';
                notes.style.opacity = '1';
                notes.style.pointerEvents = 'auto';
            }, 50);

            setTimeout(() => {
                instagram.style.display = 'none';
            }, 1050);
        }

        function goBackToInstagram() {
            if (isAutomating) return;

            clearTyping();
            const notes = document.getElementById('notesApp');
            const instagram = document.getElementById('instagramDM');

            instagram.style.display = 'block';
            instagram.style.zIndex = '4';
            notes.style.zIndex = '3';

            setTimeout(() => {
                notes.style.opacity = '0';
                instagram.style.opacity = '1';
                instagram.style.pointerEvents = 'auto';

                const messageInput = document.getElementById('igMessageInput');
                setTimeout(() => {
                    messageInput.focus();
                }, 300);
            }, 50);

            setTimeout(() => {
                notes.style.display = 'none';
            }, 1050);
        }
        
        document.getElementById('codeInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter' && !isAutomating) {
                checkCode();
            }
        });
        
        document.addEventListener('click', (e) => {
            if (isAutomating && e.target.id !== 'codeInput' && e.target.className !== 'unlock-btn') {
                e.preventDefault();
                e.stopPropagation();
                return false;
            }
        }, true);
        
        createParticles();
        document.getElementById('codeInput').focus();
    </script>
</body>
</html>