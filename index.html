<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Merriweather:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <link href="./style.css" rel="stylesheet">
    <link rel="icon" href="./favicon.ico">
    <title>Ph∆∞∆°ng's Letter</title>
</head>
<body>
    <div class="particles" id="particles"></div>
    <div class="scene" id="lockboxContainer">
        <div class="lockbox">
            <div class="lock-icon">
                <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C9.243 2 7 4.243 7 7V9H6C4.897 9 4 9.897 4 11V19C4 20.103 4.897 21 6 21H18C19.103 21 20 20.103 20 19V11C20 9.897 19.103 9 18 9H17V7C17 4.243 14.757 2 12 2ZM12 4C13.654 4 15 5.346 15 7V9H9V7C9 5.346 10.346 4 12 4ZM12 13C11.448 13 11 13.448 11 14V16C11 16.552 11.448 17 12 17C12.552 17 13 16.552 13 16V14C13 13.448 12.552 13 12 13Z" fill="currentColor"/></svg>
            </div>
            <h1>Ph∆∞∆°ng's Letter</h1>
            <p class="hint">ƒêi·ªÅu n√†y ch·ªâ c√≥ √Ω nghƒ©a sau khi em ƒë·ªçc xong cu·ªën s√°ch, n√™n ƒë·ª´ng gian l·∫≠n nh√© üëÄ</p>
            <p class="hint">G·ª£i √Ω: Kh√¥ng n√≥i b·∫±ng l·ªùi, nh∆∞ng ai c≈©ng t·ª´ng nghe n√≥ √≠t nh·∫•t m·ªôt l·∫ßn.</p>
            <div class="input-wrapper">
                <input type="password" class="code-input" id="codeInput" placeholder="Nh·∫≠p t·ª´ b√≠ m·∫≠t">
                <button class="unlock-btn" onclick="checkCode()">M·ªü</button>
            </div>
            <div class="error-message" id="errorMessage">Incorrect. Please try again.</div>
        </div>
    </div>
    <div class="scene" id="typingContainer">
        <div class="typing-text" id="typingText"></div>
    </div>
    <div class="scene" id="notesApp">
        <div class="notes-header">
            <div class="notes-back" onclick="goBackToInstagram()" id="notesBackBtn">
                <svg width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="m14 18l-6-6l6-6l1.4 1.4l-4.6 4.6l4.6 4.6L14 18Z"></path></svg>
                Chat
            </div>
            <div class="notes-title">New Note</div>
            <div class="notes-actions" id="saveNoteBtn">Save</div>
        </div>
        <div class="note-editor" id="noteEditor">
            <div class="note-meta">
                <div class="note-date" id="noteDate"></div>
                <div class="note-title-display">Dear Ph∆∞∆°ng</div>
            </div>
            <div class="note-content">
                <textarea class="note-text" id="noteText" readonly></textarea>
            </div>
        </div>
    </div>
  <div class="scene" id="instagramDM">
        <div class="ig-background" id="igBackground"></div>
        <div class="ig-header">
            <div class="ig-back" onclick="goBackToLetter()">
                <svg width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="m14 18l-6-6l6-6l1.4 1.4l-4.6 4.6l4.6 4.6L14 18Z"></path></svg>
            </div>
            <div class="ig-user-info">
                <div class="ig-profile-pic" style="background-image: url('./sam.jpg'); background-size: cover; background-position: center;"></div>
            <div>
                <div class="ig-username">Sam</div>
                <div class="ig-active-status">
                    <span class="active-dot"></span>
                    Active now
                </div>
            </div>
            </div>
            <div class="ig-actions">
                <div class="ig-action">
                    <a href="tel:+84366530901">
                    <i class="fa fa-phone" style="font-size:24px"></i>
                    </a>
                </div>
                <div class="ig-action">
                    <a href="https://wa.me/14012639684/?video=true" target="_blank">
                    <i class="fa fa-video-camera" style="font-size:21px"></i>
                    </a>
                </div>
            </div>
        </div>
        <div class="ig-chat-container" id="igChatContainer"></div>
        <div class="ig-input-area">
             <div class="ig-input-wrapper">
                <input type="text" class="ig-message-input" id="igMessageInput" placeholder="Message...">
                <button class="ig-send-button" id="igSendButton">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M2 21L23 12L2 3V10L17 12L2 14V21Z" fill="currentColor"/>
                    </svg>
                </button>
             </div>
        </div>
    </div>
    <div class="vinyl-player" id="vinylPlayer">
        <div class="vinyl-fab" id="vinylFab">
            <div class="vinyl-art"></div>
            <div class="vinyl-status-icon">‚ñ∂Ô∏è</div>
        </div>
        <div class="vinyl-modal" id="vinylModal">
            <div class="vinyl-modal-content">
                <div class="vinyl-modal-art"></div>
                <div class="vinyl-info">
                    <div class="song-title" id="songTitle">Song Title</div>
                    <div class="song-artist" id="songArtist">Artist Name</div>
                </div>
                <div class="vinyl-controls">
                    <button class="control-btn" id="playPauseBtn">‚è∏Ô∏è</button>
                </div>
                <div class="close-modal-btn" id="closeModalBtn">Close</div>
            </div>
        </div>
    </div>
    <div class="modal" id="unlockModal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>M·ªü qu√†</h2>
                <span class="close" id="closeModal">&times;</span>
            </div>
            <div class="modal-body">
                <p>G·ª£i √Ω: When I would make you mad, you always wanted to *** me even if I was not there</p>
                <input type="text" id="modalCodeInput" placeholder="Nh·∫≠p tin nh·∫Øn b√≠ m·∫≠t">
                <button id="submitCode">M·ªü</button>
                <div class="modal-error" id="modalErrorMessage" style="display: none;">Incorrect code. It's in english. 3 letters. Starts with an H</div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script>
    window.supabase = supabase.createClient(
        'https://virwqfncnlchhgmtfohc.supabase.co',
        'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZpcndxZm5jbmxjaGhnbXRmb2hjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUwOTc2NjcsImV4cCI6MjA3MDY3MzY2N30.ETIfjIT7RHG0h1eoRl07S_FvD2Poy5eG7uP2DuighGI'
    );
    </script>
    <script src="./main.js"></script>
</body>
</html>
